<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GF Breweries - Coeliacs Like Beer Too!</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}?v={{ cache_buster }}">
</head>
<body class="page-breweries">
    <!-- Top Navigation -->
    <nav class="top-nav">
        <div class="nav-content">
            <div class="nav-left">
                <button class="nav-back-btn" onclick="window.location.href='/'">
                    ‚Üê Back
                </button>
                <div class="logo-container">
                    <img src="/static/images/logo-white.svg" alt="Coeliacs Like Beer Too" class="nav-logo">
                </div>
            </div>
        </div>
    </nav>

    <div class="breweries-page">
        <div class="breweries-header">
            <h1>üè≠ Gluten Free Breweries</h1>
            <p>Discover amazing UK breweries making gluten free beer</p>
        </div>

        <div class="breweries-grid" id="breweriesGrid">
            <!-- Will be populated by JS -->
        </div>
    </div>

    <script>
        // Load breweries
        async function loadBreweries() {
            try {
                const response = await fetch('/api/breweries');
                const breweries = await response.json();
                
                const grid = document.getElementById('breweriesGrid');
                grid.innerHTML = breweries.map(brewery => `
                    <div class="brewery-card">
                        <h3>${brewery}</h3>
                        <button onclick="searchBreweryBeers('${brewery}')">
                            View Beers ‚Üí
                        </button>
                    </div>
                `).join('');
            } catch (error) {
                console.error('Error loading breweries:', error);
            }
        }
        
        function searchBreweryBeers(brewery) {
            window.location.href = `/?search=brewery:${encodeURIComponent(brewery)}`;
        }
        
        loadBreweries();
    </script>
</body>
</html>
